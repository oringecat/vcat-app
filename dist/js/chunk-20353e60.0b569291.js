(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20353e60"],{"0538":function(e,t,n){"use strict";var r=n("1c0b"),o=n("861d"),c=[].slice,a={},u=function(e,t,n){if(!(t in a)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";a[t]=Function("C,a","return new C("+r.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=c.call(arguments,1),a=function(){var r=n.concat(c.call(arguments));return this instanceof a?u(t,r.length,r):t.apply(e,r)};return o(t.prototype)&&(a.prototype=t.prototype),a}},3410:function(e,t,n){var r=n("23e7"),o=n("d039"),c=n("7b0b"),a=n("e163"),u=n("e177"),i=o((function(){a(1)}));r({target:"Object",stat:!0,forced:i,sham:!u},{getPrototypeOf:function(e){return a(c(e))}})},"4ae1":function(e,t,n){var r=n("23e7"),o=n("d066"),c=n("1c0b"),a=n("825a"),u=n("861d"),i=n("7c73"),s=n("0538"),l=n("d039"),f=o("Reflect","construct"),p=l((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),d=!l((function(){f((function(){}))})),b=p||d;r({target:"Reflect",stat:!0,forced:b,sham:b},{construct:function(e,t){c(e),a(t);var n=arguments.length<3?e:c(arguments[2]);if(d&&!p)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(s.apply(e,r))}var o=n.prototype,l=i(u(o)?o:Object.prototype),b=Function.apply.call(e,l,t);return u(b)?b:l}})},"4dc5":function(e,t,n){},7037:function(e,t,n){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0),r(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},caad:function(e,t,n){"use strict";var r=n("23e7"),o=n("4d64").includes,c=n("44d2");r({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),c("includes")},cc9c:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o={style:{margin:"16px 16px 0px"}},c=Object(r["k"])("登录失败"),a=Object(r["k"])("模拟登录成功");function u(e,t,n,u,i,s){var l=Object(r["K"])("cat-navbar"),f=Object(r["K"])("van-field"),p=Object(r["K"])("van-cell-group"),d=Object(r["K"])("van-button"),b=Object(r["K"])("cat-view");return Object(r["C"])(),Object(r["g"])(b,{class:"user-login"},{header:Object(r["R"])((function(){return[Object(r["l"])(l,{title:"登录"})]})),default:Object(r["R"])((function(){return[Object(r["l"])(p,{title:"李兔饼",inset:""},{default:Object(r["R"])((function(){return[Object(r["l"])(f,{modelValue:e.user.account,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.user.account=t}),label:"用户名",placeholder:"请输入用户名"},null,8,["modelValue"]),Object(r["l"])(f,{type:"password",modelValue:e.user.password,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.user.password=t}),label:"密码",placeholder:"请输入密码"},null,8,["modelValue"])]})),_:1}),Object(r["j"])("div",o,[Object(r["l"])(d,{type:"primary",onClick:e.login,round:"",block:""},{default:Object(r["R"])((function(){return[c]})),_:1},8,["onClick"]),Object(r["l"])(d,{type:"success",onClick:e.loginSuccess,round:"",block:"",style:{"margin-top":"16px"}},{default:Object(r["R"])((function(){return[a]})),_:1},8,["onClick"])])]})),_:1})}var i=n("ade3"),s=(n("b0c0"),n("ac1f"),n("5319"),n("d3b7"),n("25f0"),n("6c02")),l=n("b650"),f=(n("66b9"),n("565f")),p=(n("68ef"),n("cb51"),n("3743"),n("1a04"),n("1146"),n("34e9")),d=(n("0653"),n("d399")),b=(n("e7e5"),n("0613"));function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}n("4ae1"),n("3410");function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var k=n("7037"),x=n.n(k);function S(e,t){if(t&&("object"===x()(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function _(e){var t=w();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}n("159b");
/*!
 * ©teamwei.com
 * author: teamwei
 * date: 2021-08-02
 */var R,P=function(){function e(t){y(this,e),this.source=t}return h(e,[{key:"getData",value:function(e){var t=this,n={};return e.forEach((function(e){n[e]=t[e]})),n}},{key:"setData",value:function(e){this.source=e,Object.assign(this,e)}}]),e}(),C=n("3452"),I=n.n(C),T=function(e){j(n,e);var t=_(n);function n(e){var r;return y(this,n),r=t.call(this,e),r.id=0,r.account="",r.password="",r.passwordHash="",Object.assign(v(r),e),r}return h(n,[{key:"getPasswordHash",value:function(){return I.a.SHA256(this.password).toString()}}]),n}(P),E=(n("caad"),n("132d"));function L(e,t,n){var r={method:t,responseType:n.responseType};["post","POST","put","PUT","patch","PATCH"].includes(t)?r.data=n.data:r.params=n.data,b["a"].dispatch("app/setLoading",!0),Object(E["b"])(e,r).then((function(e){var t=e.data;if("blob"===r.responseType)n.success&&n.success(t);else switch(t.code){case R.InvalidToken:b["a"].dispatch("user/logout",(function(){window.location.reload()}));break;case R.Success:n.success&&n.success(t);break;default:n.fail&&n.fail(t)}})).catch((function(e){console.log(e)})).finally((function(){b["a"].dispatch("app/setLoading",!1),n.complete&&n.complete()}))}
/*!
 * ©teamwei.com
 * author: teamwei
 * date: 2021-08-05
 */(function(e){e[e["Success"]=100]="Success",e[e["Error"]=101]="Error",e[e["Fail"]=102]="Fail",e[e["Warning"]=103]="Warning",e[e["Unauthorized"]=201]="Unauthorized",e[e["ParameterError"]=202]="ParameterError",e[e["InvalidToken"]=203]="InvalidToken",e[e["InvalidSign"]=204]="InvalidSign"})(R||(R={}));var U,V=function(){function e(){y(this,e)}return h(e,null,[{key:"login",value:function(e){L("/user/login","post",e)}},{key:"getList",value:function(e){L("/user/register","post",e)}}]),e}(),H=n("5517"),F=Object(r["m"])({name:"UserLogin",components:(U={},Object(i["a"])(U,l["b"].name,l["b"]),Object(i["a"])(U,f["b"].name,f["b"]),Object(i["a"])(U,p["a"].name,p["a"]),U),setup:function(){var e=Object(H["a"])(),t=e.notify,n=Object(s["useRoute"])(),o=Object(s["useRouter"])(),c=Object(r["G"])(new T),a=Object(r["e"])((function(){return b["a"].state.app.loading})),u=function(){var e=d["a"].loading({message:"正在登录...",forbidClick:!0,duration:0});V.login({data:{account:c.account,passwordHash:c.getPasswordHash()},success:function(e){t({type:"success",message:"登录成功"}),b["a"].dispatch("user/setLoginInfo",e.data);var r=n.query.redirect;r?o.replace(r.toString()):o.go(-1)},fail:function(e){t({type:"danger",message:e.message})},complete:function(){e.clear()}})};Object(s["onBeforeRouteLeave"])((function(e,t,n){a.value?n(!1):n()}));var i=function(){var e=d["a"].loading({message:"正在登录...",forbidClick:!0,duration:0});setTimeout((function(){b["a"].dispatch("user/setLoginInfo",{id:1001,account:"admin",realname:"超级管理员",token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"}),e.clear(),t({type:"success",message:"登录成功"});var r=n.query.redirect;r?o.replace(r.toString()):o.go(-1)}),500)};return{user:c,login:u,loginSuccess:i}}});n("ced3");F.render=u;t["default"]=F},ced3:function(e,t,n){"use strict";n("4dc5")}}]);